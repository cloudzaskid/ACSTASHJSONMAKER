<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AC JSON UI - CLOUDZ / SOULLESS</title>
  <style>
    body {
      margin: 0;
      background: #0e0e0e;
      font-family: 'Segoe UI', sans-serif;
      color: white;
    }

    .container {
      display: flex;
      height: 100vh;
      padding: 10px;
      gap: 10px;
    }

    .stash, .equipment {
      flex: 1;
      background: #1a1a1a;
      border: 2px solid #444;
      border-radius: 8px;
      padding: 10px;
      display: flex;
      flex-direction: column;
    }

    .title {
      font-size: 18px;
      margin-bottom: 8px;
      color: #ff99cc;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 6px;
      flex-wrap: wrap;
    }

    .item {
      background: #333;
      padding: 6px;
      border-radius: 4px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }

    .item:hover {
      background: #555;
      transform: scale(1.05);
    }

    .equipment-figure {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #ccc;
      border-top: 1px solid #333;
      margin-top: 10px;
      padding-top: 10px;
    }

    .bottom-bar {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      justify-content: center;
    }

    .button {
      background: #aa66ff;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }

    .button:hover {
      background: #cc99ff;
    }

    select {
      padding: 6px;
      border-radius: 4px;
      background: #222;
      color: white;
      border: 1px solid #555;
    }

    .nested-items {
      margin-top: 6px;
      padding-left: 12px;
      color: #aaffaa;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="stash">
    <div class="title">Stash</div>
    <div class="grid" id="stashGrid"></div>
    <div class="bottom-bar">
      <select id="itemSelect">
        <option disabled selected>Add item...</option>
      </select>
      <button class="button" onclick="addItem()">Add Item</button>
    </div>
  </div>

  <div class="equipment">
    <div class="title">Equipment</div>
    <div class="equipment-figure">
      <p>Click an item to view or add nested contents if it's a container.</p>
      <div id="nestedView"></div>
    </div>
  </div>
</div>

<script>
  const containerItems = new Set([
    "item_backpack", "item_backpack_black", "item_backpack_green", "item_backpack_large_base",
    "item_backpack_large_clover", "item_backpack_large_basketball", "item_backpack_pink",
    "item_backpack_small_base", "item_backpack_white", "item_backpack_with_flashlight",
    "item_shredder", "item_heart_gun"
  ]);

  const itemList = [
    "item_apple", "item_anti_gravity_grenade", "item_arrow", "item_backpack", "item_shredder", "item_heart_gun"
    // You can paste in the full list from the text file here
  ];

  const displayName = name => name.replace("item_", "").replace(/_/g, " ").replace(/\b\w/g, l => l.toUpperCase());

  const stash = [];

  const renderStash = () => {
    const grid = document.getElementById("stashGrid");
    grid.innerHTML = '';
    stash.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "item";
      div.textContent = displayName(item.name);
      div.onclick = () => showNested(index);
      grid.appendChild(div);
    });
  };

  const showNested = (index) => {
    const item = stash[index];
    const view = document.getElementById("nestedView");
    if (containerItems.has(item.name)) {
      let html = `<strong>${displayName(item.name)}</strong>`;
      if (item.contents.length === 0) {
        html += "<div class='nested-items'>(Empty)</div>";
      } else {
        html += "<div class='nested-items'>" + item.contents.map(c => displayName(c.name)).join("<br>") + "</div>";
      }
      const dropdown = document.createElement("select");
      dropdown.innerHTML = itemList.map(i => `<option value="${i}">${displayName(i)}</option>`).join("");
      const btn = document.createElement("button");
      btn.textContent = "Add Inside";
      btn.className = "button";
      btn.onclick = () => {
        item.contents.push({ name: dropdown.value });
        showNested(index);
        renderStash();
      };
      view.innerHTML = html;
      view.appendChild(dropdown);
      view.appendChild(btn);
    } else {
      view.innerHTML = `<em>${displayName(item.name)} can't hold other items.</em>`;
    }
  };

  const addItem = () => {
    const selected = document.getElementById("itemSelect").value;
    if (!selected) return;
    stash.push({ name: selected, contents: [] });
    renderStash();
  };

  window.onload = () => {
    const select = document.getElementById("itemSelect");
    itemList.forEach(item => {
      const option = document.createElement("option");
      option.value = item;
      option.textContent = displayName(item);
      select.appendChild(option);
    });
    renderStash();
  };
</script>

</body>
</html>
